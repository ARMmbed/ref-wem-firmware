From 7c0df7d1e5b90de8ecf08e33203a77af577bb1fa Mon Sep 17 00:00:00 2001
From: Nic Costa <nic.costa@arm.com>
Date: Tue, 24 Oct 2017 14:40:42 -0500
Subject: [PATCH] downrev FlashIAP driver in mbed-bootloader/mbed-os

fixes the slow write problem during fota

to enable the correct FlashIAP driver in mbed-os, we need
to set "FLASH_CMSIS_ALGO" on our target.

PATCH 2 which modifies the FlashIAP driver is applied to
mbed-bootloader/mbed-os

Signed-off-by: Nic Costa <nic.costa@arm.com>
---
 mbed_app.json | 1 +
 1 file changed, 1 insertion(+)

diff --git a/mbed_app.json b/mbed_app.json
index d64056e..20f53d2 100755
--- a/mbed_app.json
+++ b/mbed_app.json
@@ -44,6 +44,7 @@
             "firmware_metadata_header_size": "0x400"
         },
         "UBLOX_EVK_ODIN_W2": {
+            "target.extra_labels_add": ["STM32F4", "STM32F439", "STM32F439ZI","STM32F439xx", "STM32F439xI", "FLASH_CMSIS_ALGO"],
             "target.device_has_remove": ["EMAC"],
             "firmware_metadata_header_address": "0x08020000",
             "update-client.application-details": "0x08020000",
-- 
2.14.2

